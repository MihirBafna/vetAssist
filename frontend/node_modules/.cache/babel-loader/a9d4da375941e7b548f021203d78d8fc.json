{"ast":null,"code":"import React, { Component, Fragment, createContext } from 'react';\nimport 'prop-types';\nimport Editor from 'react-simple-code-editor';\nimport Highlight, { Prism } from 'prism-react-renderer';\nimport { transform } from 'buble';\nimport assign from 'core-js/fn/object/assign';\nvar theme = {\n  plain: {\n    color: '#C5C8C6',\n    backgroundColor: '#1D1F21'\n  },\n  styles: [{\n    types: ['prolog', 'comment', 'doctype', 'cdata'],\n    style: {\n      color: 'hsl(30, 20%, 50%)'\n    }\n  }, {\n    types: ['property', 'tag', 'boolean', 'number', 'constant', 'symbol'],\n    style: {\n      color: 'hsl(350, 40%, 70%)'\n    }\n  }, {\n    types: ['attr-name', 'string', 'char', 'builtin', 'insterted'],\n    style: {\n      color: 'hsl(75, 70%, 60%)'\n    }\n  }, {\n    types: ['operator', 'entity', 'url', 'string', 'variable', 'language-css'],\n    style: {\n      color: 'hsl(40, 90%, 60%)'\n    }\n  }, {\n    types: ['deleted'],\n    style: {\n      color: 'rgb(255, 85, 85)'\n    }\n  }, {\n    types: ['italic'],\n    style: {\n      fontStyle: 'italic'\n    }\n  }, {\n    types: ['important', 'bold'],\n    style: {\n      fontWeight: 'bold'\n    }\n  }, {\n    types: ['regex', 'important'],\n    style: {\n      color: '#e90'\n    }\n  }, {\n    types: ['atrule', 'attr-value', 'keyword'],\n    style: {\n      color: 'hsl(350, 40%, 70%)'\n    }\n  }, {\n    types: ['punctuation', 'symbol'],\n    style: {\n      opacity: '0.7'\n    }\n  }]\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar CodeEditor = function (_Component) {\n  inherits(CodeEditor, _Component);\n\n  function CodeEditor() {\n    var _temp, _this, _ret;\n\n    classCallCheck(this, CodeEditor);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n      code: ''\n    }, _this.updateContent = function (code) {\n      _this.setState({\n        code: code\n      }, function () {\n        if (_this.props.onChange) {\n          _this.props.onChange(_this.state.code);\n        }\n      });\n    }, _this.highlightCode = function (code) {\n      return React.createElement(Highlight, {\n        Prism: Prism,\n        code: code,\n        theme: _this.props.theme || theme,\n        language: _this.props.language\n      }, function (_ref) {\n        var tokens = _ref.tokens,\n            getLineProps = _ref.getLineProps,\n            getTokenProps = _ref.getTokenProps;\n        return React.createElement(Fragment, null, tokens.map(function (line, i) {\n          return (// eslint-disable-next-line react/jsx-key\n            React.createElement('div', getLineProps({\n              line: line,\n              key: i\n            }), line.map(function (token, key) {\n              return (// eslint-disable-next-line react/jsx-key\n                React.createElement('span', getTokenProps({\n                  token: token,\n                  key: key\n                }))\n              );\n            }))\n          );\n        }));\n      });\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  CodeEditor.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (props.code !== state.prevCodeProp) {\n      return {\n        code: props.code,\n        prevCodeProp: props.code\n      };\n    }\n\n    return null;\n  };\n\n  CodeEditor.prototype.render = function render() {\n    // eslint-disable-next-line no-unused-vars\n    var _props = this.props,\n        style = _props.style,\n        _code = _props.code,\n        onChange = _props.onChange,\n        language = _props.language,\n        theme$$1 = _props.theme,\n        rest = objectWithoutProperties(_props, ['style', 'code', 'onChange', 'language', 'theme']);\n    var code = this.state.code;\n    var baseTheme = theme$$1 && _typeof(theme$$1.plain) === 'object' ? theme$$1.plain : {};\n    return React.createElement(Editor, _extends({\n      value: code,\n      padding: 10,\n      highlight: this.highlightCode,\n      onValueChange: this.updateContent,\n      style: _extends({\n        whiteSpace: 'pre',\n        fontFamily: 'monospace'\n      }, baseTheme, style)\n    }, rest));\n  };\n\n  return CodeEditor;\n}(Component);\n\nvar LiveContext = createContext({});\nvar _poly = {\n  assign: assign\n};\nvar opts = {\n  objectAssign: '_poly.assign',\n  transforms: {\n    dangerousForOf: true,\n    dangerousTaggedTemplateString: true\n  }\n};\n\nvar transform$1 = function (code) {\n  return transform(code, opts).code;\n};\n\nvar errorBoundary = function errorBoundary(Element, errorCallback) {\n  return function (_Component) {\n    inherits(ErrorBoundary, _Component);\n\n    function ErrorBoundary() {\n      classCallCheck(this, ErrorBoundary);\n      return possibleConstructorReturn(this, _Component.apply(this, arguments));\n    }\n\n    ErrorBoundary.prototype.componentDidCatch = function componentDidCatch(error) {\n      errorCallback(error);\n    };\n\n    ErrorBoundary.prototype.render = function render() {\n      return typeof Element === 'function' ? React.createElement(Element, null) : Element;\n    };\n\n    return ErrorBoundary;\n  }(Component);\n};\n\nvar evalCode = function evalCode(code, scope) {\n  var scopeKeys = Object.keys(scope);\n  var scopeValues = scopeKeys.map(function (key) {\n    return scope[key];\n  }); // eslint-disable-next-line no-new-func\n\n  var res = new (Function.prototype.bind.apply(Function, [null].concat(['_poly', 'React'], scopeKeys, [code])))();\n  return res.apply(undefined, [_poly, React].concat(scopeValues));\n};\n\nvar generateElement = function generateElement(_ref, errorCallback) {\n  var _ref$code = _ref.code,\n      code = _ref$code === undefined ? '' : _ref$code,\n      _ref$scope = _ref.scope,\n      scope = _ref$scope === undefined ? {} : _ref$scope; // NOTE: Remove trailing semicolon to get an actual expression.\n\n  var codeTrimmed = code.trim().replace(/;$/, ''); // NOTE: Workaround for classes and arrow functions.\n\n  var transformed = transform$1('return (' + codeTrimmed + ')').trim();\n  return errorBoundary(evalCode(transformed, scope), errorCallback);\n};\n\nvar renderElementAsync = function renderElementAsync(_ref2, resultCallback, errorCallback // eslint-disable-next-line consistent-return\n) {\n  var _ref2$code = _ref2.code,\n      code = _ref2$code === undefined ? '' : _ref2$code,\n      _ref2$scope = _ref2.scope,\n      scope = _ref2$scope === undefined ? {} : _ref2$scope;\n\n  var render = function render(element) {\n    if (typeof element === 'undefined') {\n      errorCallback(new SyntaxError('`render` must be called with valid JSX.'));\n    } else {\n      resultCallback(errorBoundary(element, errorCallback));\n    }\n  };\n\n  if (!/render\\s*\\(/.test(code)) {\n    return errorCallback(new SyntaxError('No-Inline evaluations must call `render`.'));\n  }\n\n  evalCode(transform$1(code), _extends({}, scope, {\n    render: render\n  }));\n};\n\nvar LiveProvider = function (_Component) {\n  inherits(LiveProvider, _Component);\n\n  function LiveProvider() {\n    var _temp, _this, _ret;\n\n    classCallCheck(this, LiveProvider);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.onChange = function (code) {\n      var _this$props = _this.props,\n          scope = _this$props.scope,\n          transformCode = _this$props.transformCode,\n          noInline = _this$props.noInline;\n\n      _this.transpile({\n        code: code,\n        scope: scope,\n        transformCode: transformCode,\n        noInline: noInline\n      });\n    }, _this.onError = function (error) {\n      _this.setState({\n        error: error.toString()\n      });\n    }, _this.transpile = function (_ref) {\n      var code = _ref.code,\n          scope = _ref.scope,\n          transformCode = _ref.transformCode,\n          _ref$noInline = _ref.noInline,\n          noInline = _ref$noInline === undefined ? false : _ref$noInline; // Transpilation arguments\n\n      var input = {\n        code: transformCode ? transformCode(code) : code,\n        scope: scope\n      };\n\n      var errorCallback = function errorCallback(err) {\n        return _this.setState({\n          element: undefined,\n          error: err.toString()\n        });\n      };\n\n      var renderElement = function renderElement(element) {\n        return _this.setState(_extends({}, state, {\n          element: element\n        }));\n      }; // State reset object\n\n\n      var state = {\n        unsafeWrapperError: undefined,\n        error: undefined\n      };\n\n      try {\n        if (noInline) {\n          _this.setState(_extends({}, state, {\n            element: null\n          })); // Reset output for async (no inline) evaluation\n\n\n          renderElementAsync(input, renderElement, errorCallback);\n        } else {\n          renderElement(generateElement(input, errorCallback));\n        }\n      } catch (error) {\n        _this.setState(_extends({}, state, {\n          error: error.toString()\n        }));\n      }\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  } // eslint-disable-next-line camelcase\n\n\n  LiveProvider.prototype.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n    var _props = this.props,\n        code = _props.code,\n        scope = _props.scope,\n        transformCode = _props.transformCode,\n        noInline = _props.noInline;\n    this.transpile({\n      code: code,\n      scope: scope,\n      transformCode: transformCode,\n      noInline: noInline\n    });\n  };\n\n  LiveProvider.prototype.componentDidUpdate = function componentDidUpdate(_ref2) {\n    var prevCode = _ref2.code,\n        prevScope = _ref2.scope,\n        prevNoInline = _ref2.noInline,\n        prevTransformCode = _ref2.transformCode;\n    var _props2 = this.props,\n        code = _props2.code,\n        scope = _props2.scope,\n        noInline = _props2.noInline,\n        transformCode = _props2.transformCode;\n\n    if (code !== prevCode || scope !== prevScope || noInline !== prevNoInline || transformCode !== prevTransformCode) {\n      this.transpile({\n        code: code,\n        scope: scope,\n        transformCode: transformCode,\n        noInline: noInline\n      });\n    }\n  };\n\n  LiveProvider.prototype.render = function render() {\n    var _props3 = this.props,\n        children = _props3.children,\n        code = _props3.code,\n        language = _props3.language,\n        theme = _props3.theme,\n        disabled = _props3.disabled;\n    return React.createElement(LiveContext.Provider, {\n      value: _extends({}, this.state, {\n        code: code,\n        language: language,\n        theme: theme,\n        disabled: disabled,\n        onError: this.onError,\n        onChange: this.onChange\n      })\n    }, children);\n  };\n\n  return LiveProvider;\n}(Component);\n\nLiveProvider.defaultProps = {\n  code: '',\n  noInline: false,\n  language: 'jsx',\n  disabled: false\n};\n\nfunction LiveEditor(props) {\n  return React.createElement(LiveContext.Consumer, null, function (_ref) {\n    var code = _ref.code,\n        language = _ref.language,\n        theme = _ref.theme,\n        disabled = _ref.disabled,\n        onChange = _ref.onChange;\n    return React.createElement(CodeEditor, _extends({\n      theme: theme,\n      code: code,\n      language: language,\n      disabled: disabled,\n      onChange: onChange\n    }, props));\n  });\n}\n\nfunction LiveError(props) {\n  return React.createElement(LiveContext.Consumer, null, function (_ref) {\n    var error = _ref.error;\n    return error ? React.createElement('pre', props, error) : null;\n  });\n}\n\nfunction LivePreview(_ref) {\n  var Component$$1 = _ref.Component,\n      rest = objectWithoutProperties(_ref, ['Component']);\n  return React.createElement(Component$$1, rest, React.createElement(LiveContext.Consumer, null, function (_ref2) {\n    var Element = _ref2.element;\n    return Element && React.createElement(Element, null);\n  }));\n}\n\nLivePreview.defaultProps = {\n  Component: 'div'\n};\n\nfunction withLive(WrappedComponent) {\n  var WithLive = function (_Component) {\n    inherits(WithLive, _Component);\n\n    function WithLive() {\n      classCallCheck(this, WithLive);\n      return possibleConstructorReturn(this, _Component.apply(this, arguments));\n    }\n\n    WithLive.prototype.render = function render() {\n      var _this2 = this;\n\n      return React.createElement(LiveContext.Consumer, null, function (live) {\n        return React.createElement(WrappedComponent, _extends({\n          live: live\n        }, _this2.props));\n      });\n    };\n\n    return WithLive;\n  }(Component);\n\n  return WithLive;\n}\n\nexport { CodeEditor as Editor, LiveProvider, LiveEditor, LiveError, LivePreview, LiveContext, withLive, generateElement, renderElementAsync };","map":{"version":3,"sources":["/Users/MihirBafna/Downloads/volt-react-dashboard-v1.0.0/node_modules/react-live/dist/react-live.es.js"],"names":["React","Component","Fragment","createContext","Editor","Highlight","Prism","transform","assign","theme","plain","color","backgroundColor","styles","types","style","fontStyle","fontWeight","opacity","_typeof","Symbol","iterator","obj","constructor","prototype","classCallCheck","instance","Constructor","TypeError","_extends","Object","target","i","arguments","length","source","key","hasOwnProperty","call","inherits","subClass","superClass","create","value","enumerable","writable","configurable","setPrototypeOf","__proto__","objectWithoutProperties","keys","indexOf","possibleConstructorReturn","self","ReferenceError","CodeEditor","_Component","_temp","_this","_ret","_len","args","Array","_key","apply","concat","state","code","updateContent","setState","props","onChange","highlightCode","createElement","language","_ref","tokens","getLineProps","getTokenProps","map","line","token","getDerivedStateFromProps","prevCodeProp","render","_props","_code","theme$$1","rest","baseTheme","padding","highlight","onValueChange","whiteSpace","fontFamily","LiveContext","_poly","opts","objectAssign","transforms","dangerousForOf","dangerousTaggedTemplateString","transform$1","errorBoundary","Element","errorCallback","ErrorBoundary","componentDidCatch","error","evalCode","scope","scopeKeys","scopeValues","res","Function","bind","undefined","generateElement","_ref$code","_ref$scope","codeTrimmed","trim","replace","transformed","renderElementAsync","_ref2","resultCallback","_ref2$code","_ref2$scope","element","SyntaxError","test","LiveProvider","_this$props","transformCode","noInline","transpile","onError","toString","_ref$noInline","input","err","renderElement","unsafeWrapperError","UNSAFE_componentWillMount","componentDidUpdate","prevCode","prevScope","prevNoInline","prevTransformCode","_props2","_props3","children","disabled","Provider","defaultProps","LiveEditor","Consumer","LiveError","LivePreview","Component$$1","withLive","WrappedComponent","WithLive","_this2","live"],"mappings":"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","sourcesContent":["import React, { Component, Fragment, createContext } from 'react';\nimport 'prop-types';\nimport Editor from 'react-simple-code-editor';\nimport Highlight, { Prism } from 'prism-react-renderer';\nimport { transform } from 'buble';\nimport assign from 'core-js/fn/object/assign';\n\nvar theme = {\n  plain: {\n    color: '#C5C8C6',\n    backgroundColor: '#1D1F21'\n  },\n  styles: [{\n    types: ['prolog', 'comment', 'doctype', 'cdata'],\n    style: {\n      color: 'hsl(30, 20%, 50%)'\n    }\n  }, {\n    types: ['property', 'tag', 'boolean', 'number', 'constant', 'symbol'],\n    style: { color: 'hsl(350, 40%, 70%)' }\n  }, {\n    types: ['attr-name', 'string', 'char', 'builtin', 'insterted'],\n    style: {\n      color: 'hsl(75, 70%, 60%)'\n    }\n  }, {\n    types: ['operator', 'entity', 'url', 'string', 'variable', 'language-css'],\n    style: {\n      color: 'hsl(40, 90%, 60%)'\n    }\n  }, {\n    types: ['deleted'],\n    style: {\n      color: 'rgb(255, 85, 85)'\n    }\n  }, {\n    types: ['italic'],\n    style: {\n      fontStyle: 'italic'\n    }\n  }, {\n    types: ['important', 'bold'],\n    style: {\n      fontWeight: 'bold'\n    }\n  }, {\n    types: ['regex', 'important'],\n    style: {\n      color: '#e90'\n    }\n  }, {\n    types: ['atrule', 'attr-value', 'keyword'],\n    style: {\n      color: 'hsl(350, 40%, 70%)'\n    }\n  }, {\n    types: ['punctuation', 'symbol'],\n    style: {\n      opacity: '0.7'\n    }\n  }]\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar CodeEditor = function (_Component) {\n  inherits(CodeEditor, _Component);\n\n  function CodeEditor() {\n    var _temp, _this, _ret;\n\n    classCallCheck(this, CodeEditor);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n      code: ''\n    }, _this.updateContent = function (code) {\n      _this.setState({ code: code }, function () {\n        if (_this.props.onChange) {\n          _this.props.onChange(_this.state.code);\n        }\n      });\n    }, _this.highlightCode = function (code) {\n      return React.createElement(\n        Highlight,\n        {\n          Prism: Prism,\n          code: code,\n          theme: _this.props.theme || theme,\n          language: _this.props.language\n        },\n        function (_ref) {\n          var tokens = _ref.tokens,\n              getLineProps = _ref.getLineProps,\n              getTokenProps = _ref.getTokenProps;\n          return React.createElement(\n            Fragment,\n            null,\n            tokens.map(function (line, i) {\n              return (\n                // eslint-disable-next-line react/jsx-key\n                React.createElement(\n                  'div',\n                  getLineProps({ line: line, key: i }),\n                  line.map(function (token, key) {\n                    return (\n                      // eslint-disable-next-line react/jsx-key\n                      React.createElement('span', getTokenProps({ token: token, key: key }))\n                    );\n                  })\n                )\n              );\n            })\n          );\n        }\n      );\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  CodeEditor.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (props.code !== state.prevCodeProp) {\n      return { code: props.code, prevCodeProp: props.code };\n    }\n\n    return null;\n  };\n\n  CodeEditor.prototype.render = function render() {\n    // eslint-disable-next-line no-unused-vars\n    var _props = this.props,\n        style = _props.style,\n        _code = _props.code,\n        onChange = _props.onChange,\n        language = _props.language,\n        theme$$1 = _props.theme,\n        rest = objectWithoutProperties(_props, ['style', 'code', 'onChange', 'language', 'theme']);\n    var code = this.state.code;\n\n\n    var baseTheme = theme$$1 && _typeof(theme$$1.plain) === 'object' ? theme$$1.plain : {};\n\n    return React.createElement(Editor, _extends({\n      value: code,\n      padding: 10,\n      highlight: this.highlightCode,\n      onValueChange: this.updateContent,\n      style: _extends({\n        whiteSpace: 'pre',\n        fontFamily: 'monospace'\n      }, baseTheme, style)\n    }, rest));\n  };\n\n  return CodeEditor;\n}(Component);\n\nvar LiveContext = createContext({});\n\nvar _poly = { assign: assign };\n\nvar opts = {\n  objectAssign: '_poly.assign',\n  transforms: {\n    dangerousForOf: true,\n    dangerousTaggedTemplateString: true\n  }\n};\n\nvar transform$1 = (function (code) {\n  return transform(code, opts).code;\n});\n\nvar errorBoundary = function errorBoundary(Element, errorCallback) {\n  return function (_Component) {\n    inherits(ErrorBoundary, _Component);\n\n    function ErrorBoundary() {\n      classCallCheck(this, ErrorBoundary);\n      return possibleConstructorReturn(this, _Component.apply(this, arguments));\n    }\n\n    ErrorBoundary.prototype.componentDidCatch = function componentDidCatch(error) {\n      errorCallback(error);\n    };\n\n    ErrorBoundary.prototype.render = function render() {\n      return typeof Element === 'function' ? React.createElement(Element, null) : Element;\n    };\n\n    return ErrorBoundary;\n  }(Component);\n};\n\nvar evalCode = function evalCode(code, scope) {\n  var scopeKeys = Object.keys(scope);\n  var scopeValues = scopeKeys.map(function (key) {\n    return scope[key];\n  });\n  // eslint-disable-next-line no-new-func\n  var res = new (Function.prototype.bind.apply(Function, [null].concat(['_poly', 'React'], scopeKeys, [code])))();\n  return res.apply(undefined, [_poly, React].concat(scopeValues));\n};\n\nvar generateElement = function generateElement(_ref, errorCallback) {\n  var _ref$code = _ref.code,\n      code = _ref$code === undefined ? '' : _ref$code,\n      _ref$scope = _ref.scope,\n      scope = _ref$scope === undefined ? {} : _ref$scope;\n\n  // NOTE: Remove trailing semicolon to get an actual expression.\n  var codeTrimmed = code.trim().replace(/;$/, '');\n\n  // NOTE: Workaround for classes and arrow functions.\n  var transformed = transform$1('return (' + codeTrimmed + ')').trim();\n  return errorBoundary(evalCode(transformed, scope), errorCallback);\n};\n\nvar renderElementAsync = function renderElementAsync(_ref2, resultCallback, errorCallback\n// eslint-disable-next-line consistent-return\n) {\n  var _ref2$code = _ref2.code,\n      code = _ref2$code === undefined ? '' : _ref2$code,\n      _ref2$scope = _ref2.scope,\n      scope = _ref2$scope === undefined ? {} : _ref2$scope;\n\n  var render = function render(element) {\n    if (typeof element === 'undefined') {\n      errorCallback(new SyntaxError('`render` must be called with valid JSX.'));\n    } else {\n      resultCallback(errorBoundary(element, errorCallback));\n    }\n  };\n\n  if (!/render\\s*\\(/.test(code)) {\n    return errorCallback(new SyntaxError('No-Inline evaluations must call `render`.'));\n  }\n\n  evalCode(transform$1(code), _extends({}, scope, { render: render }));\n};\n\nvar LiveProvider = function (_Component) {\n  inherits(LiveProvider, _Component);\n\n  function LiveProvider() {\n    var _temp, _this, _ret;\n\n    classCallCheck(this, LiveProvider);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.onChange = function (code) {\n      var _this$props = _this.props,\n          scope = _this$props.scope,\n          transformCode = _this$props.transformCode,\n          noInline = _this$props.noInline;\n\n      _this.transpile({ code: code, scope: scope, transformCode: transformCode, noInline: noInline });\n    }, _this.onError = function (error) {\n      _this.setState({ error: error.toString() });\n    }, _this.transpile = function (_ref) {\n      var code = _ref.code,\n          scope = _ref.scope,\n          transformCode = _ref.transformCode,\n          _ref$noInline = _ref.noInline,\n          noInline = _ref$noInline === undefined ? false : _ref$noInline;\n\n      // Transpilation arguments\n      var input = {\n        code: transformCode ? transformCode(code) : code,\n        scope: scope\n      };\n\n      var errorCallback = function errorCallback(err) {\n        return _this.setState({ element: undefined, error: err.toString() });\n      };\n      var renderElement = function renderElement(element) {\n        return _this.setState(_extends({}, state, { element: element }));\n      };\n\n      // State reset object\n      var state = { unsafeWrapperError: undefined, error: undefined };\n\n      try {\n        if (noInline) {\n          _this.setState(_extends({}, state, { element: null })); // Reset output for async (no inline) evaluation\n          renderElementAsync(input, renderElement, errorCallback);\n        } else {\n          renderElement(generateElement(input, errorCallback));\n        }\n      } catch (error) {\n        _this.setState(_extends({}, state, { error: error.toString() }));\n      }\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  // eslint-disable-next-line camelcase\n  LiveProvider.prototype.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n    var _props = this.props,\n        code = _props.code,\n        scope = _props.scope,\n        transformCode = _props.transformCode,\n        noInline = _props.noInline;\n\n\n    this.transpile({ code: code, scope: scope, transformCode: transformCode, noInline: noInline });\n  };\n\n  LiveProvider.prototype.componentDidUpdate = function componentDidUpdate(_ref2) {\n    var prevCode = _ref2.code,\n        prevScope = _ref2.scope,\n        prevNoInline = _ref2.noInline,\n        prevTransformCode = _ref2.transformCode;\n    var _props2 = this.props,\n        code = _props2.code,\n        scope = _props2.scope,\n        noInline = _props2.noInline,\n        transformCode = _props2.transformCode;\n\n    if (code !== prevCode || scope !== prevScope || noInline !== prevNoInline || transformCode !== prevTransformCode) {\n      this.transpile({ code: code, scope: scope, transformCode: transformCode, noInline: noInline });\n    }\n  };\n\n  LiveProvider.prototype.render = function render() {\n    var _props3 = this.props,\n        children = _props3.children,\n        code = _props3.code,\n        language = _props3.language,\n        theme = _props3.theme,\n        disabled = _props3.disabled;\n\n\n    return React.createElement(\n      LiveContext.Provider,\n      {\n        value: _extends({}, this.state, {\n          code: code,\n          language: language,\n          theme: theme,\n          disabled: disabled,\n          onError: this.onError,\n          onChange: this.onChange\n        })\n      },\n      children\n    );\n  };\n\n  return LiveProvider;\n}(Component);\n\nLiveProvider.defaultProps = {\n  code: '',\n  noInline: false,\n  language: 'jsx',\n  disabled: false\n};\n\nfunction LiveEditor(props) {\n  return React.createElement(\n    LiveContext.Consumer,\n    null,\n    function (_ref) {\n      var code = _ref.code,\n          language = _ref.language,\n          theme = _ref.theme,\n          disabled = _ref.disabled,\n          onChange = _ref.onChange;\n      return React.createElement(CodeEditor, _extends({\n        theme: theme,\n        code: code,\n        language: language,\n        disabled: disabled,\n        onChange: onChange\n      }, props));\n    }\n  );\n}\n\nfunction LiveError(props) {\n  return React.createElement(\n    LiveContext.Consumer,\n    null,\n    function (_ref) {\n      var error = _ref.error;\n      return error ? React.createElement(\n        'pre',\n        props,\n        error\n      ) : null;\n    }\n  );\n}\n\nfunction LivePreview(_ref) {\n  var Component$$1 = _ref.Component,\n      rest = objectWithoutProperties(_ref, ['Component']);\n\n  return React.createElement(\n    Component$$1,\n    rest,\n    React.createElement(\n      LiveContext.Consumer,\n      null,\n      function (_ref2) {\n        var Element = _ref2.element;\n        return Element && React.createElement(Element, null);\n      }\n    )\n  );\n}\n\nLivePreview.defaultProps = {\n  Component: 'div'\n};\n\nfunction withLive(WrappedComponent) {\n  var WithLive = function (_Component) {\n    inherits(WithLive, _Component);\n\n    function WithLive() {\n      classCallCheck(this, WithLive);\n      return possibleConstructorReturn(this, _Component.apply(this, arguments));\n    }\n\n    WithLive.prototype.render = function render() {\n      var _this2 = this;\n\n      return React.createElement(\n        LiveContext.Consumer,\n        null,\n        function (live) {\n          return React.createElement(WrappedComponent, _extends({ live: live }, _this2.props));\n        }\n      );\n    };\n\n    return WithLive;\n  }(Component);\n\n  return WithLive;\n}\n\nexport { CodeEditor as Editor, LiveProvider, LiveEditor, LiveError, LivePreview, LiveContext, withLive, generateElement, renderElementAsync };\n"]},"metadata":{},"sourceType":"module"}